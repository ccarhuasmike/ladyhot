alter table tbl_anuncio add codigo char(13) null

CREATE SEQUENCE [SQ_tbl_anuncio] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 CACHE  10 
GO

ALTER TABLE tbl_anuncio ADD  CONSTRAINT [CNX_tbl_anuncio_DEFAULT_CODIGO]  DEFAULT ('AN'+right((('000000'+CONVERT([varchar](11)
,NEXT VALUE FOR [SQ_tbl_anuncio] ))+'.')+
right(CONVERT([char](4),datepart(year,getdate())),(2)),(9))) FOR [codigo]
GO